"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createGoMod = void 0;
const path_1 = require("path");
const constants_1 = require("./constants");
const ensure_go_mod_dependency_1 = require("./ensure-go-mod-dependency");
function createGoMod(tree, { skipGoMod, useGoWork, projectRoot, npmScope }) {
    if (skipGoMod === false) {
        const filePath = useGoWork ? (0, path_1.join)(projectRoot, constants_1.GO_MOD_FILE) : constants_1.GO_MOD_FILE;
        const moduleName = useGoWork ? projectRoot : npmScope;
        if (!tree.exists(filePath)) {
            tree.write(filePath, `module ${moduleName}\n`);
        }
        if (!useGoWork) {
            (0, ensure_go_mod_dependency_1.ensureGoModDependency)(tree);
        }
    }
}
exports.createGoMod = createGoMod;
//# sourceMappingURL=create-go-mod.helper.js.map